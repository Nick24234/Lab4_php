<%= form_with(model: user, local: true) do |form| %>
  <% if user.errors.any? %>
    <div class="alert">
      <h3>–í–∏—è–≤–ª–µ–Ω–æ <%= pluralize(user.errors.count, "–ø–æ–º–∏–ª–∫—É") %>:</h3>
      <ul style="margin-top: 10px; padding-left: 20px;">
        <% user.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group">
    <%= form.label :nickname, "–ù—ñ–∫–Ω–µ–π–º" %>
    <%= form.text_field :nickname, placeholder: "–í–≤–µ–¥—ñ—Ç—å —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π –Ω—ñ–∫–Ω–µ–π–º (3-20 —Å–∏–º–≤–æ–ª—ñ–≤)", required: true %>
    <% if user.errors[:nickname].any? %>
      <div class="error-message"><%= user.errors[:nickname].first %></div>
    <% end %>
    <small style="color: #6c757d; display: block; margin-top: 5px;">
      –ù—ñ–∫–Ω–µ–π–º –º–∞—î –±—É—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º —Ç–∞ –º—ñ—Å—Ç–∏—Ç–∏ –≤—ñ–¥ 3 –¥–æ 20 —Å–∏–º–≤–æ–ª—ñ–≤
    </small>
  </div>

  <% unless user.new_record? %>
    <div class="form-group">
      <%= form.label :balance, "–ë–∞–ª–∞–Ω—Å" %>
      <%= form.number_field :balance, step: 0.01, placeholder: "–í–≤–µ–¥—ñ—Ç—å –±–∞–ª–∞–Ω—Å" %>
      <% if user.errors[:balance].any? %>
        <div class="error-message"><%= user.errors[:balance].first %></div>
      <% end %>
    </div>
  <% else %>
    <div style="background: #e7f3ff; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #2196F3;">
      <strong>üí∞ –ü–æ—á–∞—Ç–∫–æ–≤–∏–π –±–∞–ª–∞–Ω—Å:</strong> 1000‚Ç¥
      <br>
      <small>–ö–æ–∂–µ–Ω –Ω–æ–≤–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç—Ä–∏–º—É—î 1000‚Ç¥ –Ω–∞ –±–∞–ª–∞–Ω—Å</small>
    </div>
  <% end %>

  <div class="form-actions">
    <%= form.submit user.new_record? ? '–°—Ç–≤–æ—Ä–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç' : '–û–Ω–æ–≤–∏—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å', class: 'btn btn-primary' %>
    <%= link_to '–°–∫–∞—Å—É–≤–∞—Ç–∏', user.new_record? ? root_path : user_path(user), class: 'btn btn-secondary' %>
  </div>
<% end %>
